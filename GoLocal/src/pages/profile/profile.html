<ion-header>
  <ion-navbar>
    <ion-row>
      <button ion-button clear (click)="backToHome()"><img width="250" height="100" src="../../assets/imgs/GoLocalLogo.png"></button>
      <ion-col col-4></ion-col>
      <ion-col col-4 text-right>
          <button ion-button clear *ngIf="loggedIn" (click)="goToProfile()">{{ logInButton }}</button>
          <button ion-button clear *ngIf="!loggedIn" (click)="loginModal()"> {{ logInButton }}</button>
      </ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-row>
        <ion-col col-9 text-left><h1>My Profile</h1></ion-col>
        <ion-col col-3>
          <button ion-button *ngIf="editProfile" (click)="updateProfile()"><ion-icon name="save" float-right></ion-icon>Save Profile</button>
        </ion-col>
      </ion-row>
  <ion-row>
    <ion-col col-4 class="user">
        <ion-row><div class="user-image"></div></ion-row>
    </ion-col>

    <!-- Main Content -->
    
    <ion-col col-7 class="profile-details">
      <ion-row class="image-row">
        <ion-col col-4 class="image-container"></ion-col>
        <ion-col col-4 class="image-container"></ion-col>
        <ion-col col-4 class="image-container"></ion-col>
        <button ion-button *ngIf="editProfile" (click)="editImages()">Edit Images<ion-icon name="create"></ion-icon></button>
      </ion-row>
      <ion-row class="title">
        <ion-col col-8>
          <ion-title *ngIf="!editingName">{{profile.name}}</ion-title>
          <ion-input *ngIf="editingName" [(ngModel)]="profile.name"></ion-input>
          <button ion-button *ngIf="editProfile" (click)="editName()"><ion-icon name="create"></ion-icon>Edit Name</button>
        </ion-col>
      </ion-row>

      <ion-row>
        <p *ngIf="!editingBio">{{profile.bio}}</p>
        <ion-textarea *ngIf="editingBio" [(ngModel)]="profile.bio"></ion-textarea>
        <button ion-button *ngIf="editProfile" (click)="editDescription()"><ion-icon name="create"></ion-icon>Edit Bio</button>
      </ion-row>


    </ion-col>

  </ion-row>
  <ion-row>
      <ion-col col-12 class="bookings" text-left>
          <ion-row>
            <div class="bookings-current">
              <h1>Current Activities</h1>
              <p class="no-activities" *ngIf="activities_user.length <= 0">No activities currently booked</p>
              <ion-row class="activity-row">
                  <div class="activity-container" *ngFor="let activity of activities_user" (click)="goToActivity(activity)">
                    <ion-row class="activity-header"><img src = {{activity.image}}/></ion-row>
                    <ion-row class="activity-footer">
                      <ion-item class="line" text-wrap>
                        {{activity.title}} <span item-end class="activity-price">${{activity.price}} CAD</span>
                      </ion-item>
                      <p>{{activity.description}}</p>
                    </ion-row>
                  </div>
              </ion-row>
            </div>
          </ion-row>
      </ion-col>
  </ion-row>
      

  
</ion-content>
